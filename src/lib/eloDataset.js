// ELO Dataset Management for Project Selection
// Auto-generated from design/elo.csv - DO NOT EDIT MANUALLY
// Run 'npm run generate-elo' to regenerate this file

export const ELO_PROJECTS = [
  {
    "rank": 1,
    "repo": "ethereum/go-ethereum",
    "weight": 0.0622666997104518,
    "competition": "gg24",
    "method": "elo"
  },
  {
    "rank": 2,
    "repo": "argotorg/solidity",
    "weight": 0.059769266333321344,
    "competition": "gg24",
    "method": "elo"
  },
  {
    "rank": 3,
    "repo": "foundry-rs/foundry",
    "weight": 0.04931431978108216,
    "competition": "gg24",
    "method": "elo"
  },
  {
    "rank": 4,
    "repo": "OpenZeppelin/openzeppelin-contracts",
    "weight": 0.04604140630227226,
    "competition": "gg24",
    "method": "elo"
  },
  {
    "rank": 5,
    "repo": "ethereum/consensus-specs",
    "weight": 0.04034184448586202,
    "competition": "gg24",
    "method": "elo"
  },
  {
    "rank": 6,
    "repo": "OffchainLabs/prysm",
    "weight": 0.03693938304518865,
    "competition": "gg24",
    "method": "elo"
  },
  {
    "rank": 7,
    "repo": "ethereum/EIPs",
    "weight": 0.03585050119534499,
    "competition": "gg24",
    "method": "elo"
  },
  {
    "rank": 8,
    "repo": "ethers-io/ethers.js",
    "weight": 0.033179961031917456,
    "competition": "gg24",
    "method": "elo"
  },
  {
    "rank": 9,
    "repo": "NomicFoundation/hardhat",
    "weight": 0.029462276708553767,
    "competition": "gg24",
    "method": "elo"
  },
  {
    "rank": 10,
    "repo": "sigp/lighthouse",
    "weight": 0.02826273187958575,
    "competition": "gg24",
    "method": "elo"
  },
  {
    "rank": 11,
    "repo": "flashbots/mev-boost",
    "weight": 0.022337684874276825,
    "competition": "gg24",
    "method": "elo"
  },
  {
    "rank": 12,
    "repo": "erigontech/erigon",
    "weight": 0.02228313762021105,
    "competition": "gg24",
    "method": "elo"
  },
  {
    "rank": 13,
    "repo": "remix-project-org/remix-project",
    "weight": 0.021203467677178543,
    "competition": "gg24",
    "method": "elo"
  },
  {
    "rank": 14,
    "repo": "wighawag/hardhat-deploy",
    "weight": 0.018526305464036885,
    "competition": "gg24",
    "method": "elo"
  },
  {
    "rank": 15,
    "repo": "Consensys/teku",
    "weight": 0.017239237887076313,
    "competition": "gg24",
    "method": "elo"
  },
  {
    "rank": 16,
    "repo": "ethereum/execution-apis",
    "weight": 0.017061545071005938,
    "competition": "gg24",
    "method": "elo"
  },
  {
    "rank": 17,
    "repo": "supranational/blst",
    "weight": 0.015868733846135054,
    "competition": "gg24",
    "method": "elo"
  },
  {
    "rank": 18,
    "repo": "NethermindEth/nethermind",
    "weight": 0.01584590983580907,
    "competition": "gg24",
    "method": "elo"
  },
  {
    "rank": 19,
    "repo": "hyperledger/besu",
    "weight": 0.014430770421906462,
    "competition": "gg24",
    "method": "elo"
  },
  {
    "rank": 20,
    "repo": "wevm/viem",
    "weight": 0.013369803887203383,
    "competition": "gg24",
    "method": "elo"
  },
  {
    "rank": 21,
    "repo": "libp2p/libp2p",
    "weight": 0.013146725369507822,
    "competition": "gg24",
    "method": "elo"
  },
  {
    "rank": 22,
    "repo": "ethereum/js-ethereum-cryptography",
    "weight": 0.011281196033003678,
    "competition": "gg24",
    "method": "elo"
  },
  {
    "rank": 23,
    "repo": "ethereum/web3.py",
    "weight": 0.011215347070951006,
    "competition": "gg24",
    "method": "elo"
  },
  {
    "rank": 24,
    "repo": "paradigmxyz/reth",
    "weight": 0.01114027565981015,
    "competition": "gg24",
    "method": "elo"
  },
  {
    "rank": 25,
    "repo": "Vectorized/solady",
    "weight": 0.011113165789682867,
    "competition": "gg24",
    "method": "elo"
  },
  {
    "rank": 26,
    "repo": "safe-global/safe-smart-account",
    "weight": 0.011060595339850968,
    "competition": "gg24",
    "method": "elo"
  },
  {
    "rank": 27,
    "repo": "blockscout/blockscout",
    "weight": 0.010883151671008081,
    "competition": "gg24",
    "method": "elo"
  },
  {
    "rank": 28,
    "repo": "flashbots/mev-boost-relay",
    "weight": 0.010257066797580507,
    "competition": "gg24",
    "method": "elo"
  },
  {
    "rank": 29,
    "repo": "scaffold-eth/scaffold-eth-2",
    "weight": 0.009922893620208904,
    "competition": "gg24",
    "method": "elo"
  },
  {
    "rank": 30,
    "repo": "argotorg/sourcify",
    "weight": 0.009774212541457524,
    "competition": "gg24",
    "method": "elo"
  },
  {
    "rank": 31,
    "repo": "vyperlang/vyper",
    "weight": 0.00928767047385677,
    "competition": "gg24",
    "method": "elo"
  },
  {
    "rank": 32,
    "repo": "ethereum/py_ecc",
    "weight": 0.008922308302670446,
    "competition": "gg24",
    "method": "elo"
  },
  {
    "rank": 33,
    "repo": "Nethereum/Nethereum",
    "weight": 0.00862893052045513,
    "competition": "gg24",
    "method": "elo"
  },
  {
    "rank": 34,
    "repo": "LFDT-web3j/web3j",
    "weight": 0.008548423145476127,
    "competition": "gg24",
    "method": "elo"
  },
  {
    "rank": 35,
    "repo": "l2beat/l2beat",
    "weight": 0.008531607084596262,
    "competition": "gg24",
    "method": "elo"
  },
  {
    "rank": 36,
    "repo": "ChainSafe/lodestar",
    "weight": 0.008496710876928028,
    "competition": "gg24",
    "method": "elo"
  },
  {
    "rank": 37,
    "repo": "Consensys/gnark-crypto",
    "weight": 0.008294910855525493,
    "competition": "gg24",
    "method": "elo"
  },
  {
    "rank": 38,
    "repo": "eth-infinitism/account-abstraction",
    "weight": 0.007906086192440338,
    "competition": "gg24",
    "method": "elo"
  },
  {
    "rank": 39,
    "repo": "arkworks-rs/algebra",
    "weight": 0.007770400371048495,
    "competition": "gg24",
    "method": "elo"
  },
  {
    "rank": 40,
    "repo": "paulmillr/noble-curves",
    "weight": 0.007355389051833255,
    "competition": "gg24",
    "method": "elo"
  },
  {
    "rank": 41,
    "repo": "DefiLlama/DefiLlama-Adapters",
    "weight": 0.007328712001233348,
    "competition": "gg24",
    "method": "elo"
  },
  {
    "rank": 42,
    "repo": "flashbots/rbuilder",
    "weight": 0.007255257893000112,
    "competition": "gg24",
    "method": "elo"
  },
  {
    "rank": 43,
    "repo": "ChainSafe/bls",
    "weight": 0.007249726098028316,
    "competition": "gg24",
    "method": "elo"
  },
  {
    "rank": 44,
    "repo": "taikoxyz/taiko-mono",
    "weight": 0.007218407976809286,
    "competition": "gg24",
    "method": "elo"
  },
  {
    "rank": 45,
    "repo": "wealdtech/ethdo",
    "weight": 0.006520993560322668,
    "competition": "gg24",
    "method": "elo"
  },
  {
    "rank": 46,
    "repo": "protofire/solhint",
    "weight": 0.006449671890456812,
    "competition": "gg24",
    "method": "elo"
  },
  {
    "rank": 47,
    "repo": "herumi/mcl",
    "weight": 0.006217461767624939,
    "competition": "gg24",
    "method": "elo"
  },
  {
    "rank": 48,
    "repo": "ipsilon/evmone",
    "weight": 0.005986262574914693,
    "competition": "gg24",
    "method": "elo"
  },
  {
    "rank": 49,
    "repo": "shazow/whatsabi",
    "weight": 0.00584128783502003,
    "competition": "gg24",
    "method": "elo"
  },
  {
    "rank": 50,
    "repo": "ethereum-lists/chains",
    "weight": 0.005832639508016665,
    "competition": "gg24",
    "method": "elo"
  },
  {
    "rank": 51,
    "repo": "argotorg/hevm",
    "weight": 0.005818843548434719,
    "competition": "gg24",
    "method": "elo"
  },
  {
    "rank": 52,
    "repo": "status-im/nimbus-eth2",
    "weight": 0.0056386139705975735,
    "competition": "gg24",
    "method": "elo"
  },
  {
    "rank": 53,
    "repo": "Plonky3/Plonky3",
    "weight": 0.005377922442591719,
    "competition": "gg24",
    "method": "elo"
  },
  {
    "rank": 54,
    "repo": "TrueBlocks/trueblocks-core",
    "weight": 0.005335313705213885,
    "competition": "gg24",
    "method": "elo"
  },
  {
    "rank": 55,
    "repo": "ethstaker/eth-docker",
    "weight": 0.0049619048554551915,
    "competition": "gg24",
    "method": "elo"
  },
  {
    "rank": 56,
    "repo": "Certora/CertoraProver",
    "weight": 0.0046030433062927015,
    "competition": "gg24",
    "method": "elo"
  },
  {
    "rank": 57,
    "repo": "erigontech/silkworm",
    "weight": 0.00460173093839462,
    "competition": "gg24",
    "method": "elo"
  },
  {
    "rank": 58,
    "repo": "ApeWorX/ape",
    "weight": 0.004497821540721392,
    "competition": "gg24",
    "method": "elo"
  },
  {
    "rank": 59,
    "repo": "intellij-solidity/intellij-solidity",
    "weight": 0.004395546300791118,
    "competition": "gg24",
    "method": "elo"
  },
  {
    "rank": 60,
    "repo": "smartcontracts/simple-optimism-node",
    "weight": 0.004196484226851945,
    "competition": "gg24",
    "method": "elo"
  },
  {
    "rank": 61,
    "repo": "succinctlabs/op-succinct",
    "weight": 0.004133894350095408,
    "competition": "gg24",
    "method": "elo"
  },
  {
    "rank": 62,
    "repo": "succinctlabs/sp1",
    "weight": 0.003980222135453339,
    "competition": "gg24",
    "method": "elo"
  },
  {
    "rank": 63,
    "repo": "a16z/halmos",
    "weight": 0.0038534469211948014,
    "competition": "gg24",
    "method": "elo"
  },
  {
    "rank": 64,
    "repo": "0xMiden/miden-vm",
    "weight": 0.0037570261453737526,
    "competition": "gg24",
    "method": "elo"
  },
  {
    "rank": 65,
    "repo": "dappnode/DAppNode",
    "weight": 0.003572619338150543,
    "competition": "gg24",
    "method": "elo"
  },
  {
    "rank": 66,
    "repo": "EspressoSystems/jellyfish",
    "weight": 0.003531504822255032,
    "competition": "gg24",
    "method": "elo"
  },
  {
    "rank": 67,
    "repo": "otterscan/otterscan",
    "weight": 0.0034141158774965963,
    "competition": "gg24",
    "method": "elo"
  },
  {
    "rank": 68,
    "repo": "risc0/risc0-ethereum",
    "weight": 0.0033925633711293936,
    "competition": "gg24",
    "method": "elo"
  },
  {
    "rank": 69,
    "repo": "aestus-relay/mev-boost-relay",
    "weight": 0.0030330394112240565,
    "competition": "gg24",
    "method": "elo"
  },
  {
    "rank": 70,
    "repo": "Commit-Boost/commit-boost-client",
    "weight": 0.003027752525278772,
    "competition": "gg24",
    "method": "elo"
  },
  {
    "rank": 71,
    "repo": "edb-rs/edb",
    "weight": 0.0029330817894907954,
    "competition": "gg24",
    "method": "elo"
  },
  {
    "rank": 72,
    "repo": "alloy-rs/alloy",
    "weight": 0.002915031841656556,
    "competition": "gg24",
    "method": "elo"
  },
  {
    "rank": 73,
    "repo": "OffchainLabs/stylus-sdk-rs",
    "weight": 0.0029033206804857186,
    "competition": "gg24",
    "method": "elo"
  },
  {
    "rank": 74,
    "repo": "DefiLlama/chainlist",
    "weight": 0.002851246916573518,
    "competition": "gg24",
    "method": "elo"
  },
  {
    "rank": 75,
    "repo": "a16z/helios",
    "weight": 0.002779458704570686,
    "competition": "gg24",
    "method": "elo"
  },
  {
    "rank": 76,
    "repo": "grandinetech/grandine",
    "weight": 0.002765052532383705,
    "competition": "gg24",
    "method": "elo"
  },
  {
    "rank": 77,
    "repo": "axiom-crypto/snark-verifier",
    "weight": 0.002751993928680629,
    "competition": "gg24",
    "method": "elo"
  },
  {
    "rank": 78,
    "repo": "ethstaker/ethstaker-deposit-cli",
    "weight": 0.0026663852661920314,
    "competition": "gg24",
    "method": "elo"
  },
  {
    "rank": 79,
    "repo": "skalenetwork/libBLS",
    "weight": 0.002442117821546041,
    "competition": "gg24",
    "method": "elo"
  },
  {
    "rank": 80,
    "repo": "ethpandaops/ethereum-helm-charts",
    "weight": 0.0024273253250096374,
    "competition": "gg24",
    "method": "elo"
  },
  {
    "rank": 81,
    "repo": "holiman/goevmlab",
    "weight": 0.0022474394112596014,
    "competition": "gg24",
    "method": "elo"
  },
  {
    "rank": 82,
    "repo": "ethpandaops/checkpointz",
    "weight": 0.002071176209789746,
    "competition": "gg24",
    "method": "elo"
  },
  {
    "rank": 83,
    "repo": "lambdaclass/lambdaworks",
    "weight": 0.001949176016000733,
    "competition": "gg24",
    "method": "elo"
  },
  {
    "rank": 84,
    "repo": "powdr-labs/powdr",
    "weight": 0.0017802194431919204,
    "competition": "gg24",
    "method": "elo"
  },
  {
    "rank": 85,
    "repo": "Cyfrin/aderyn",
    "weight": 0.0017779417045199024,
    "competition": "gg24",
    "method": "elo"
  },
  {
    "rank": 86,
    "repo": "NethermindEth/juno",
    "weight": 0.0017578951508821882,
    "competition": "gg24",
    "method": "elo"
  },
  {
    "rank": 87,
    "repo": "ethdebug/format",
    "weight": 0.0017371040300076049,
    "competition": "gg24",
    "method": "elo"
  },
  {
    "rank": 88,
    "repo": "argotorg/fe",
    "weight": 0.0017346984970979939,
    "competition": "gg24",
    "method": "elo"
  },
  {
    "rank": 89,
    "repo": "succinctlabs/rsp",
    "weight": 0.001608249132837268,
    "competition": "gg24",
    "method": "elo"
  },
  {
    "rank": 90,
    "repo": "vyperlang/titanoboa",
    "weight": 0.0015975366091472848,
    "competition": "gg24",
    "method": "elo"
  },
  {
    "rank": 91,
    "repo": "lambdaclass/ethrex",
    "weight": 0.0015722330216539657,
    "competition": "gg24",
    "method": "elo"
  },
  {
    "rank": 92,
    "repo": "deepfunding/dependency-graph",
    "weight": 0.0014423262978810701,
    "competition": "gg24",
    "method": "elo"
  },
  {
    "rank": 93,
    "repo": "swiss-knife-xyz/swiss-knife",
    "weight": 0.0014134769411872359,
    "competition": "gg24",
    "method": "elo"
  },
  {
    "rank": 94,
    "repo": "dl-solarity/solidity-lib",
    "weight": 0.001386442456543962,
    "competition": "gg24",
    "method": "elo"
  },
  {
    "rank": 95,
    "repo": "argotorg/act",
    "weight": 0.0012343813530694549,
    "competition": "gg24",
    "method": "elo"
  },
  {
    "rank": 96,
    "repo": "evmts/tevm-monorepo",
    "weight": 0.001170351999213437,
    "competition": "gg24",
    "method": "elo"
  },
  {
    "rank": 97,
    "repo": "ethpandaops/ethereum-package",
    "weight": 0.000990238781425246,
    "competition": "gg24",
    "method": "elo"
  },
  {
    "rank": 98,
    "repo": "lambdaclass/lambda_ethereum_consensus",
    "weight": 0.0009382134729671865,
    "competition": "gg24",
    "method": "elo"
  }
];

// Get all projects as an array of repo names
export function getAllProjects() {
  return ELO_PROJECTS.map(p => p.repo);
}

// Get project by repo name
export function getProjectByRepo(repo) {
  return ELO_PROJECTS.find(p => p.repo === repo);
}

// Get projects sorted by weight (highest first)
export function getProjectsByWeight() {
  return [...ELO_PROJECTS].sort((a, b) => b.weight - a.weight);
}

// Get top N projects by weight
export function getTopProjects(n = 10) {
  return getProjectsByWeight().slice(0, n);
}

// Get bottom N projects by weight
export function getBottomProjects(n = 10) {
  return getProjectsByWeight().slice(-n).reverse();
}

// Get projects similar in weight to a given project
export function getSimilarProjects(repo, maxRatio = 2.0, count = 5) {
  const targetProject = getProjectByRepo(repo);
  if (!targetProject) return [];

  const targetWeight = targetProject.weight;

  return ELO_PROJECTS
    .filter(p => p.repo !== repo)
    .map(p => ({
      ...p,
      ratio: Math.max(p.weight / targetWeight, targetWeight / p.weight)
    }))
    .filter(p => p.ratio <= maxRatio)
    .sort((a, b) => a.ratio - b.ratio)
    .slice(0, count);
}

// Get random project
export function getRandomProject() {
  const index = Math.floor(Math.random() * ELO_PROJECTS.length);
  return ELO_PROJECTS[index];
}

// Get random pair of projects for comparison
export function getRandomPair() {
  const shuffled = [...ELO_PROJECTS].sort(() => Math.random() - 0.5);
  return [shuffled[0], shuffled[1]];
}

// Get a diverse pair (different weight ranges) for comparison
export function getDiversePair() {
  const sorted = getProjectsByWeight();
  const topHalf = sorted.slice(0, Math.floor(sorted.length / 2));
  const bottomHalf = sorted.slice(Math.floor(sorted.length / 2));

  const project1 = topHalf[Math.floor(Math.random() * topHalf.length)];
  const project2 = bottomHalf[Math.floor(Math.random() * bottomHalf.length)];

  return [project1, project2];
}

// Calculate expected funding percentage for a project
export function getFundingPercentage(repo) {
  const project = getProjectByRepo(repo);
  if (!project) return 0;
  return (project.weight * 100).toFixed(2);
}

// Format repo name for display
export function formatRepoName(repo) {
  return repo.split('/')[1] || repo;
}

// Get project display name with org
export function getProjectDisplayName(repo) {
  return repo;
}
